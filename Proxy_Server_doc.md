Proxy_server文档

1.0版本优化列表

- 单线程迭代阻塞处理
- 端口监听
- 请求报文的处理，解析
- 响应报文的构建，返回

接收客户端请求

- 建立TCP通讯连接，服务器特殊情况下可以选择拒绝

接收请求(解析报文)

- 解析请求行
- 读取报文首部
- 根据Content_Length，判断是否读取请求主体

处理请求

- 根据报文信息，对请求进行分类，交给不同的处理模块处理

访问资源

- 基础版本略

构造响应

- 获取，或者生成请求资源
- 根据请求报文中内容构建响应报文

发送响应报文

- 根据请求报文中Connection字段，判断TCP通讯连接是否应该释放

记录日志

- 记录日志以便日后分析，优化，排错。

2.0版本优化列表

- 多线程
- 访问资源
- 连接方式

多线程

- I/O multiplexing (select / poll, epoll)
- 进程、线程分派模型：one-request-per-child / one-request-per-thread
- 非阻塞 I/O，edge trigger

访问资源

- 资源安全
  - 请求资源映射
  - 报文转发前分析，可以过滤报文数据端内关键字，可疑的攻击报文

连接方式

- 连接效率折中方式
  - 持久连接，并行连接
  - or other

3.0版本优化列表

优化目标

- 性能优化
- 后端协议支持
- https 协议支持
- 模块化设计
- 集群支持

性能优化

- Memory caching
- I/O 优化 如 文件系统选择、Linux AIO 等。单这块往下看文件系统、I/O 调度和其它 OS 内核细 节，就可以挖非常深
- TCP/IP 优化

后端协议优化

- CGI / FastCGI / WSGI / AJK 等后端协议支持

https协议支持

- 报文转发加密，解密

模块化设计

- 模块化，扩展模块支持，优化架构设计。参照Apache 动态模块设计

集群支持

- 大数据，高并发处理
- 服务器抗压能力


